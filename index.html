<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Letter for You ‚ù§Ô∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
        body { background-color: #fdf2f2; font-family: 'VT323', monospace; color: #b55d7e; overflow-x: hidden; }
        .btn-pink { background-color: #b55d7e; color: white; padding: 10px 30px; border-radius: 8px; font-size: 1.5rem; transition: 0.3s; }
        .btn-pink:hover { transform: scale(1.05); background-color: #944a66; }
        /* Kertas Tua */
        .parchment {
            background: #f4e1c1;
            background-image: url('https://www.transparenttextures.com/patterns/old-map.png');
            padding: 30px;
            border-radius: 5px;
            box-shadow: 2px 2px 15px rgba(0,0,0,0.2);
            position: relative;
            min-height: 400px;
            border: 1px solid #d4b88a;
        }
        /* Popup Amplop */
        .popup-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 50;
        }
        .popup-content {
            background: white; padding: 25px; border-radius: 15px; max-width: 90%; width: 350px;
            position: relative; border: 4px pink dotted;
        }
        .close-btn { position: absolute; top: 10px; right: 15px; font-size: 20px; cursor: pointer; color: #b55d7e; font-weight: bold; }
        .white-space-pre { white-space: pre-wrap; font-size: 1.2rem; line-height: 1.4; color: #444; }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 text-center">

    <div id="app" class="max-w-lg w-full">
        
        <div v-if="step === 1" class="animate__animated animate__fadeIn">
            <h1 class="text-6xl mb-10 tracking-widest uppercase">Hi</h1>
            <button @click="step++" class="btn-pink shadow-lg">Next</button>
        </div>

        <div v-if="step === 2" class="animate__animated animate__fadeIn">
            <h1 class="text-4xl md:text-5xl mb-10 tracking-widest uppercase">Happy Birthday <br> {{ targetName }}!</h1>
            <button @click="step++" class="btn-pink shadow-lg">Next</button>
        </div>

        <div v-if="step === 3" class="animate__animated animate__zoomIn">
            <h2 class="text-3xl mb-6">Letter For You! üíå</h2>
            <div class="text-8xl mb-10 animate__animated animate__pulse animate__infinite">üì©</div>
            <div class="flex justify-center gap-4">
                <button @click="step--" class="btn-pink !bg-gray-400">Go Back</button>
                <button @click="step++" class="btn-pink shadow-lg">Open It</button>
            </div>
        </div>

        <div v-if="step === 4" class="animate__animated animate__fadeInUp">
            <div class="parchment text-left mb-8">
                <p class="white-space-pre">{{ mainLetter }}</p>
                <p class="text-right mt-6 italic">with love,<br>{{ yourName }}</p>
            </div>

            <div class="mb-6">
                <p class="text-xl mb-4 italic">needs more?</p>
                <div class="flex justify-center gap-4 flex-wrap">
                    <button v-for="(msg, key) in extraMessages" :key="key" @click="openPopup(key)" 
                            class="flex flex-col items-center group">
                        <span class="text-4xl group-hover:scale-110 transition">‚úâÔ∏è</span>
                        <span class="text-sm uppercase tracking-tighter">{{ key }}</span>
                    </button>
                </div>
            </div>

            <button @click="step = 1" class="btn-pink shadow-lg mt-4">That's It!</button>
        </div>

        <div v-if="showPopup" class="popup-overlay animate__animated animate__fadeIn">
            <div class="popup-content animate__animated animate__zoomIn">
                <span class="close-btn" @click="showPopup = false">X</span>
                <div class="mt-4">
                    <img src="https://img.icons8.com/color/96/bow.png" class="mx-auto mb-4 w-12" />
                    <p class="white-space-pre text-left border-t pt-4">{{ activeMessage }}</p>
                </div>
            </div>
        </div>

    </div>

    <script>
        const { createApp } = Vue
        createApp({
            data() {
                return {
                    step: 1,
                    targetName: "Yasifa's", // Ganti Nama Dia
                    yourName: "fasya", // Ganti Nama Kamu
                    showPopup: false,
                    activeMessage: '',
                    
                    // SURAT UTAMA (Kertas Tua)
                    mainLetter: `Hi, happy birthday!\n\nYeay! kamu berhasil nambah satu tahun lagi di hidupmu. I'm so proud of you. Gak kerasa ya waktu cepet banget lewat.\n\nMakasih ya udah lahir ke dunia ini. I miss you so much (hope you feel the same way). Kamu tau persis di mana harus cari aku kalau butuh apa-apa.\n\nEnjoy your new journey!`,

                    // PESAN DI AMPLOP KECIL (Thanks, Happy, Sorry, Sad)
                    extraMessages: {
                        thanks: "Makasih ya udah selalu ada buat aku, makasih udah mau dengerin keluh kesah aku selama ini. You're the best!",
                        happy: "Aku seneng banget kalau liat kamu seneng. Semoga hari-hari kamu ke depannya penuh warna ya!",
                        sorry: "Maaf ya kalau aku sering bikin kesel atau ada salah yang disengaja maupun nggak. I'm still learning.",
                        sad: "Kalau lagi sedih, jangan dipendem sendiri ya. Aku selalu siap jadi tempat kamu cerita. Cheer up!"
                    }
                }
            },
            methods: {
                openPopup(type) {
                    this.activeMessage = this.extraMessages[type];
                    this.showPopup = true;
                }
            }
        }).mount('#app')
    </script>
</body>
</html>
